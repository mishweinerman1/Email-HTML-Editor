<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Template Editor - Ganance Heir</title>
    <link rel="stylesheet" href="editor.css">
</head>
<body>
    <div class="editor-container">
        <!-- Control Panel Sidebar -->
        <div class="control-panel">
            <div class="panel-header">
                <h1>Email Editor</h1>
                <p class="subtitle">Customize your email template</p>
            </div>

            <div class="panel-content">
                <!-- Color Controls -->
                <section class="control-section">
                    <h2 class="section-title">Colors</h2>
                    <div class="control-group">
                        <label for="primary-color">Primary Color</label>
                        <div class="color-input-group">
                            <input type="color" id="primary-color" value="#000000">
                            <input type="text" id="primary-color-text" value="#000000" maxlength="7">
                        </div>
                    </div>
                    <div class="control-group">
                        <label for="secondary-color">Secondary Color</label>
                        <div class="color-input-group">
                            <input type="color" id="secondary-color" value="#ffffff">
                            <input type="text" id="secondary-color-text" value="#ffffff" maxlength="7">
                        </div>
                    </div>
                    <div class="control-group">
                        <label for="text-color">Text Color</label>
                        <div class="color-input-group">
                            <input type="color" id="text-color" value="#333333">
                            <input type="text" id="text-color-text" value="#333333" maxlength="7">
                        </div>
                    </div>
                    <div class="control-group">
                        <label for="background-color">Background Color</label>
                        <div class="color-input-group">
                            <input type="color" id="background-color" value="#ffffff">
                            <input type="text" id="background-color-text" value="#ffffff" maxlength="7">
                        </div>
                    </div>
                </section>

                <!-- Typography Controls -->
                <section class="control-section">
                    <h2 class="section-title">Typography</h2>
                    <div class="control-group">
                        <label for="heading-font">Heading Font</label>
                        <select id="heading-font">
                            <option value="'Helvetica Neue', Helvetica, Arial, sans-serif">Helvetica</option>
                            <option value="Georgia, serif">Georgia</option>
                            <option value="'Times New Roman', Times, serif">Times New Roman</option>
                            <option value="Arial, sans-serif">Arial</option>
                            <option value="Verdana, sans-serif">Verdana</option>
                            <option value="'Courier New', monospace">Courier New</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label for="body-font">Body Font</label>
                        <select id="body-font">
                            <option value="'Helvetica Neue', Helvetica, Arial, sans-serif">Helvetica</option>
                            <option value="Georgia, serif">Georgia</option>
                            <option value="'Times New Roman', Times, serif">Times New Roman</option>
                            <option value="Arial, sans-serif">Arial</option>
                            <option value="Verdana, sans-serif">Verdana</option>
                            <option value="'Courier New', monospace">Courier New</option>
                        </select>
                    </div>
                </section>

                <!-- Content Controls -->
                <section class="control-section">
                    <h2 class="section-title">Content</h2>
                    <div class="control-group">
                        <label for="logo-text">Logo Text</label>
                        <input type="text" id="logo-text" value="GANANCE">
                    </div>
                    <div class="control-group">
                        <label for="hero-title">Hero Title</label>
                        <textarea id="hero-title" rows="2">MAKE YOUR FAVORITE
WATCH SMART</textarea>
                    </div>
                    <div class="control-group">
                        <label for="product-name">Product Name</label>
                        <input type="text" id="product-name" value="Ganance Heir (Pre-Order)">
                    </div>
                    <div class="control-group">
                        <label for="product-description">Product Description</label>
                        <textarea id="product-description" rows="4">Transform any traditional watch into a smart timepiece with the Ganance Heir. Our innovative technology seamlessly integrates with your favorite watches, adding smart features without compromising their classic design.</textarea>
                    </div>
                    <div class="control-group">
                        <label for="cta-text">CTA Button Text</label>
                        <input type="text" id="cta-text" value="PRE-ORDER NOW">
                    </div>
                    <div class="control-group">
                        <label for="features-title">Features Section Title</label>
                        <input type="text" id="features-title" value="Your Style. Our Tech.">
                    </div>
                </section>

                <!-- Image Management -->
                <section class="control-section">
                    <h2 class="section-title">Images</h2>

                    <!-- Hero Image -->
                    <div class="control-group">
                        <label>Hero Image</label>
                        <div class="image-control">
                            <div class="image-preview" id="hero-image-preview">
                                <span class="placeholder-text">No image</span>
                            </div>
                            <div class="image-buttons">
                                <button class="btn-small btn-secondary" onclick="document.getElementById('hero-image-upload').click()">Upload</button>
                                <button class="btn-small btn-secondary" data-image-target="hero-image" data-image-type="hero">Generate</button>
                                <button class="btn-small btn-secondary" data-edit-target="hero-image">Edit</button>
                                <input type="file" id="hero-image-upload" accept="image/*" style="display: none;" data-image-target="hero-image">
                            </div>
                        </div>
                    </div>

                    <!-- Product Detail Image -->
                    <div class="control-group">
                        <label>Product Detail Image</label>
                        <div class="image-control">
                            <div class="image-preview" id="product-image-preview">
                                <span class="placeholder-text">No image</span>
                            </div>
                            <div class="image-buttons">
                                <button class="btn-small btn-secondary" onclick="document.getElementById('product-image-upload').click()">Upload</button>
                                <button class="btn-small btn-secondary" data-image-target="product-image" data-image-type="product">Generate</button>
                                <button class="btn-small btn-secondary" data-edit-target="product-image">Edit</button>
                                <input type="file" id="product-image-upload" accept="image/*" style="display: none;" data-image-target="product-image">
                            </div>
                        </div>
                    </div>

                    <!-- Feature Icons -->
                    <div class="control-group">
                        <label>Feature Icon 1</label>
                        <div class="image-control">
                            <div class="image-preview small" id="feature-icon-1-preview">
                                <span class="placeholder-text">Icon</span>
                            </div>
                            <div class="image-buttons">
                                <button class="btn-small btn-secondary" onclick="document.getElementById('feature-icon-1-upload').click()">Upload</button>
                                <button class="btn-small btn-secondary" data-image-target="feature-icon-1" data-image-type="icon">Generate</button>
                                <button class="btn-small btn-secondary" data-edit-target="feature-icon-1">Edit</button>
                                <input type="file" id="feature-icon-1-upload" accept="image/*" style="display: none;" data-image-target="feature-icon-1">
                            </div>
                        </div>
                    </div>

                    <div class="control-group">
                        <label>Feature Icon 2</label>
                        <div class="image-control">
                            <div class="image-preview small" id="feature-icon-2-preview">
                                <span class="placeholder-text">Icon</span>
                            </div>
                            <div class="image-buttons">
                                <button class="btn-small btn-secondary" onclick="document.getElementById('feature-icon-2-upload').click()">Upload</button>
                                <button class="btn-small btn-secondary" data-image-target="feature-icon-2" data-image-type="icon">Generate</button>
                                <button class="btn-small btn-secondary" data-edit-target="feature-icon-2">Edit</button>
                                <input type="file" id="feature-icon-2-upload" accept="image/*" style="display: none;" data-image-target="feature-icon-2">
                            </div>
                        </div>
                    </div>

                    <div class="control-group">
                        <label>Feature Icon 3</label>
                        <div class="image-control">
                            <div class="image-preview small" id="feature-icon-3-preview">
                                <span class="placeholder-text">Icon</span>
                            </div>
                            <div class="image-buttons">
                                <button class="btn-small btn-secondary" onclick="document.getElementById('feature-icon-3-upload').click()">Upload</button>
                                <button class="btn-small btn-secondary" data-image-target="feature-icon-3" data-image-type="icon">Generate</button>
                                <button class="btn-small btn-secondary" data-edit-target="feature-icon-3">Edit</button>
                                <input type="file" id="feature-icon-3-upload" accept="image/*" style="display: none;" data-image-target="feature-icon-3">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Component Visibility -->
                <section class="control-section">
                    <h2 class="section-title">Components</h2>
                    <div class="control-group checkbox-group">
                        <label>
                            <input type="checkbox" id="show-header" checked>
                            Show Header
                        </label>
                    </div>
                    <div class="control-group checkbox-group">
                        <label>
                            <input type="checkbox" id="show-hero" checked>
                            Show Hero Section
                        </label>
                    </div>
                    <div class="control-group checkbox-group">
                        <label>
                            <input type="checkbox" id="show-product-intro" checked>
                            Show Product Intro
                        </label>
                    </div>
                    <div class="control-group checkbox-group">
                        <label>
                            <input type="checkbox" id="show-product-detail" checked>
                            Show Product Details
                        </label>
                    </div>
                    <div class="control-group checkbox-group">
                        <label>
                            <input type="checkbox" id="show-features" checked>
                            Show Features Section
                        </label>
                    </div>
                    <div class="control-group checkbox-group">
                        <label>
                            <input type="checkbox" id="show-footer" checked>
                            Show Footer
                        </label>
                    </div>
                </section>

                <!-- Responsive Preview Controls -->
                <section class="control-section">
                    <h2 class="section-title">Preview Size</h2>
                    <div class="preview-controls">
                        <button class="preview-btn active" data-width="100%">Desktop</button>
                        <button class="preview-btn" data-width="768px">Tablet</button>
                        <button class="preview-btn" data-width="375px">Mobile</button>
                    </div>
                </section>

                <!-- Export/Import Controls -->
                <section class="control-section">
                    <h2 class="section-title">Actions</h2>
                    <div class="action-buttons">
                        <button id="export-html" class="btn btn-primary">Export HTML</button>
                        <button id="save-config" class="btn btn-secondary">Save Config</button>
                        <button id="load-config" class="btn btn-secondary">Load Config</button>
                        <input type="file" id="config-file" accept=".json" style="display: none;">
                    </div>
                </section>
            </div>
        </div>

        <!-- Preview Panel -->
        <div class="preview-panel">
            <div class="preview-header">
                <h2>Live Preview</h2>
                <div class="preview-info">
                    <span id="preview-size-label">Desktop View</span>
                </div>
            </div>
            <div class="preview-content">
                <div class="preview-wrapper" id="preview-wrapper">
                    <iframe id="preview-frame" src="email-template.html"></iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Editor Modal -->
    <div id="image-editor-modal" class="modal" style="display: none;">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Edit Image</h3>
                <button class="modal-close" onclick="document.getElementById('image-editor-modal').style.display='none'">&times;</button>
            </div>
            <div class="modal-body">
                <div class="editor-layout">
                    <!-- Canvas Area -->
                    <div class="canvas-area">
                        <canvas id="image-editor-canvas"></canvas>
                    </div>

                    <!-- Editing Controls -->
                    <div class="editing-controls">
                        <h4>Crop</h4>
                        <div class="control-group">
                            <button id="start-crop-btn" class="btn btn-secondary full-width">Start Cropping</button>
                            <button id="apply-crop-btn" class="btn btn-primary full-width" style="display: none;">Apply Crop</button>
                            <button id="cancel-crop-btn" class="btn btn-secondary full-width" style="display: none;">Cancel Crop</button>
                        </div>

                        <h4>Text Overlay</h4>
                        <div class="control-group">
                            <label for="overlay-text">Text</label>
                            <input type="text" id="overlay-text" placeholder="Enter text...">
                        </div>
                        <div class="control-group">
                            <label for="overlay-text-size">Size</label>
                            <input type="range" id="overlay-text-size" min="12" max="120" value="48">
                            <span id="text-size-value">48px</span>
                        </div>
                        <div class="control-group">
                            <label for="overlay-text-color">Color</label>
                            <input type="color" id="overlay-text-color" value="#ffffff">
                        </div>
                        <div class="control-group">
                            <label for="overlay-text-position">Position</label>
                            <select id="overlay-text-position">
                                <option value="top">Top</option>
                                <option value="center" selected>Center</option>
                                <option value="bottom">Bottom</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <button id="add-text-overlay-btn" class="btn btn-secondary full-width">Add Text Overlay</button>
                            <button id="undo-text-overlay-btn" class="btn btn-secondary full-width" style="display: none;">Undo Last Text</button>
                            <button id="clear-text-overlays-btn" class="btn btn-secondary full-width" style="display: none;">Clear All Text</button>
                        </div>

                        <h4>Color Overlay</h4>
                        <div class="control-group">
                            <label for="color-overlay-color">Color</label>
                            <input type="color" id="color-overlay-color" value="#000000">
                        </div>
                        <div class="control-group">
                            <label for="color-overlay-opacity">Opacity</label>
                            <input type="range" id="color-overlay-opacity" min="0" max="100" value="50">
                            <span id="opacity-value">50%</span>
                        </div>
                        <div class="control-group">
                            <button id="add-color-overlay-btn" class="btn btn-secondary full-width">Apply Overlay</button>
                            <button id="remove-color-overlay-btn" class="btn btn-secondary full-width">Clear Overlay</button>
                            <small style="margin-top: 5px;">Move sliders to preview, click Apply to commit</small>
                        </div>

                        <h4>Actions</h4>
                        <div class="control-group">
                            <button id="reset-image-btn" class="btn btn-secondary full-width">Reset to Original</button>
                        </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button id="save-edited-image-btn" class="btn btn-primary">Save Changes</button>
                    <button class="btn btn-secondary" onclick="document.getElementById('image-editor-modal').style.display='none'">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Image Generation Modal -->
    <div id="image-gen-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Generate AI Image</h3>
                <button class="modal-close" onclick="document.getElementById('image-gen-modal').style.display='none'">&times;</button>
            </div>
            <div class="modal-body">
                <div class="control-group">
                    <label for="image-prompt">Image Prompt</label>
                    <textarea id="image-prompt" rows="3" placeholder="Describe the image you want to generate..."></textarea>
                </div>
                <div class="control-group">
                    <label for="image-service">Service</label>
                    <select id="image-service">
                        <option value="placeholder">Placeholder (Free)</option>
                        <option value="unsplash">Unsplash (Free Stock Photos)</option>
                        <option value="dalle">DALL-E (Requires API Key)</option>
                    </select>
                </div>
                <div class="control-group" id="api-key-group" style="display: none;">
                    <label for="openai-api-key">OpenAI API Key</label>
                    <input type="password" id="openai-api-key" placeholder="sk-...">
                    <small>Your API key is stored locally and never sent anywhere except OpenAI</small>
                </div>
                <div class="modal-actions">
                    <button id="generate-image-btn" class="btn btn-primary">Generate Image</button>
                    <button class="btn btn-secondary" onclick="document.getElementById('image-gen-modal').style.display='none'">Cancel</button>
                </div>
                <div id="generation-status" class="generation-status"></div>
            </div>
        </div>
    </div>

    <script src="editor.js"></script>
</body>
</html>
